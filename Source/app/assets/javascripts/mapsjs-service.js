H.util.eval("function U(a,b,c,d,e,f){if(a&&b)this.Re(a),this.bd(b),this.$b(c),this.di(e),this.ai(f),this.jg(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}r(\"H.service.Url\",U);\nfunction vj(a,b){var c=a,d=document,e,f,g,h,k=d.createElement(\"a\");b&&(f=(e=d.getElementsByTagName(\"base\")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement(\"base\")),h.href=b);k.href=c;c=k.href;b&&(e?e.href=f:g.removeChild(h));c=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(c);e=c[1];k=c[4];f=c[5];d=c[6];g=c[7];h=c[8];!c[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);var c=k,d=d&&0<d.length?d.substr(1):\"\",k={},l,n;if(g)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=\nl.exec(g);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new U(e,c,d,k,isNaN(+f)?void 0:+f,h&&0<h.length?h.substr(1):\"\")}U.parse=vj;var wj=0;U.prototype.i=function(){wj++;return new U(this.Oe,this.lc,this.A,this.Ig(),this.Xc,this.ra)};U.prototype.clone=U.prototype.i;U.prototype.Re=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.Oe=a;return this};U.prototype.setScheme=U.prototype.Re;U.prototype.Dm=function(){return this.Oe};\nU.prototype.getScheme=U.prototype.Dm;U.prototype.bd=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.lc=a;return this};U.prototype.setHost=U.prototype.bd;U.prototype.tm=function(){return this.lc};U.prototype.getHost=U.prototype.tm;U.prototype.$b=function(a){this.A=a||void 0;return this};U.prototype.setPath=U.prototype.$b;U.prototype.zm=function(){return this.A};\nU.prototype.getPath=U.prototype.zm;U.prototype.jg=function(a){if(a)if(\"object\"==typeof a)this.D=a;else throw Error('Parameter \"params\" must be an object.');else this.D={};return this};U.prototype.setQuery=U.prototype.jg;U.prototype.tj=function(){return!this.wh()};U.prototype.hasQuery=U.prototype.tj;U.prototype.Cm=function(){return this.D};U.prototype.getQuery=U.prototype.Cm;\nU.prototype.di=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.Xc=+a||void 0;return this};U.prototype.setPort=U.prototype.di;U.prototype.Bm=function(){return this.Xc};U.prototype.getPort=U.prototype.Bm;U.prototype.ai=function(a){this.ra=a||void 0;return this};U.prototype.setAnchor=U.prototype.ai;U.prototype.dh=function(){return this.ra};U.prototype.getAnchor=U.prototype.dh;\nU.prototype.t=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');this.pn(this.D,a);return this};U.prototype.mergeQuery=U.prototype.t;U.prototype.V=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.bd(a+\".\"+this.lc)};U.prototype.addSubDomain=U.prototype.V;\nU.prototype.m=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.$b((this.A?this.A+\"/\":\"\")+a)};U.prototype.addSubPath=U.prototype.m;U.prototype.toString=function(){return[this.Oe+\"://\",this.lc,this.Xc?\":\"+this.Xc:\"\",this.A||!this.wh()||this.ra?\"/\":\"\",this.A?encodeURI(this.A):\"\",this.ko(),this.ra?\"#\"+encodeURIComponent(this.ra):\"\"].join(\"\")};U.prototype.toString=U.prototype.toString;\nU.prototype.Ig=function(){var a={},b;for(b in this.D)a[b]=this.D[b];return a};U.prototype.cloneQuery_=U.prototype.Ig;U.prototype.pn=function(a,b){for(var c in b)b.hasOwnProperty(c)&&\"function\"!==typeof b[c]&&(a[c]=b[c]);return a};U.prototype.ko=function(){var a=[],b,c=this.D,d;for(b in c)c.hasOwnProperty(b)&&\"function\"!==typeof c[b]&&(d=this.D[b],a.push(encodeURIComponent(b)+(void 0===d?\"\":\"=\"+encodeURIComponent(d))));return 0<a.length?\"?\"+a.join(\"&\"):\"\"};\nU.prototype.wh=function(){var a,b=0;for(a in this.D)if(this.D.hasOwnProperty(a)&&\"function\"!==typeof this.D[a]&&(b++,0<b))break;return!b};function xj(a){function b(b){d.removeChild(e);l&&clearTimeout(l);delete xj.qo[f];b&&a.qd&&a.qd.call(k,b)}if(!a.url||!a.Bc)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Bc)throw Error(\"Parmaters options.callback must be a function\");var c=a.of||document,d=c.getElementsByTagName(\"head\")[0],e=c.createElement(\"script\"),c=a.url instanceof U?a.url:vj(a.url,a.Ry),f=xj.Zx++,g=a.Qi||\"callback\",h=a.Bc,k={},l=null;k.id=f;k.cancel=function(){b(\"cancelled\")};\n0!==a.timeout&&(l=setTimeout(function(){b(\"timeout\")},a.timeout||3E4));xj.qo[f]=function(a){b();h.call(k,a)};e.type=\"text/javascript\";e.src=c.toString()+(c.tj()?\"&\":\"?\")+g+\"=\"+(a.$n?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}r(\"H.service.jsonp\",xj);xj.iw=function(a){return(a=xj.qo[a])?a:function(){}};xj.handleResponse=xj.iw;xj.Zx=0;xj.qo={};function yj(a){a=a||{};this.cc=a.subDomain;this.A=a.path;this.nu=a.callbackKey;this.sa=a.baseUrl}r(\"H.service.AbstractRestService\",yj);yj.prototype.$=function(a,b,c,d,e){this.H=(e||this.sa).i();this.cc&&this.H.V(this.cc);this.A&&this.H.$b(this.A);c&&this.H.Re(\"https\");return this};yj.prototype.configure=yj.prototype.$;yj.prototype.s=function(){return this.H};\nfunction zj(a,b,c,d){if(!ja(c))throw Error(\"onResult callback needed\");if(!ja(d))throw Error(\"onError callback needed\");return xj({url:b,Bc:function(a){c(a)},qd:function(a){d(Error(\"[\"+a+\"] \"+b+\" request failed\"))},Qi:a.nu})};function V(a){a=Aj(Bj,a);this.Es(a.baseUrl);this.zo(a.useCIT);this.Ao(a.useHTTPS);Cj(this,a.app_id,a.app_code);this.Tk={}}r(\"H.service.Platform\",V);function Cj(a,b,c){a.Ap=b;a.zp=c;a.sa.t({app_id:b,app_code:c})}V.prototype.$=function(a){if(a.configure)return a.configure(this.Ap,this.zp,this.mt,this.lt,this.sa);throw Error(\"Object is not configurable\");};V.prototype.configure=V.prototype.$;V.prototype.Ao=function(a){this.mt=a;this.sa.Re(a?\"https\":\"http\")};V.prototype.setUseHTTPS=V.prototype.Ao;\nV.prototype.zo=function(a){this.lt=a;this.sa.bd((a?\"cit.\":\"\")+this.hu)};V.prototype.setUseCIT=V.prototype.zo;V.prototype.Es=function(a){this.hu=a.lc;this.sa=a=a.i();a.t({xnlp:\"CL_JSMv3.\"+Ji().version});this.zo(this.lt);this.Ao(this.mt);Cj(this,this.Ap,this.zp)};V.prototype.setBaseUrl=V.prototype.Es;V.prototype.hv=function(){return this.sa};V.prototype.getBaseUrl=V.prototype.hv;var Bj={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new U(\"http\",\"api.here.com\")};\nr(\"H.service.setOptions\",function(a,b){Bj[a]=b});r(\"H.service.getOptions\",function(a){return Bj[a]});function Aj(a,b){var c={},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function Dj(a){a=Aj(Bj.trafficIncidents,a);a.callbackKey=\"jsoncallback\";Dj.a.constructor.call(this,a)}u(Dj,yj);r(\"H.service.TrafficIncidentsService\",Dj);Dj.prototype.Xx=function(a,b,c){a=this.s().i().m(\"incidents.json\").t(a);return zj(this,a,b,c)};Dj.prototype.requestIncidents=Dj.prototype.Xx;Dj.prototype.rs=function(a,b,c,d,e,f){a=this.s().i().m([\"incidents/json\",c,a,b].join(\"/\")).t(f||{});return zj(this,a,d,e)};Dj.prototype.requestIncidentsByTile=Dj.prototype.rs;\nBj.trafficIncidents={subDomain:\"traffic\",path:\"traffic/6.1\"};V.prototype.vq=function(){return this.$(new Dj)};V.prototype.getTrafficIncidentsService=V.prototype.vq;function Ej(){this.Qo={}}Ej.prototype.pl=function(a,b){var c=this.Qo[a]||(this.Qo[a]=[]),d,e=b.length;for(d=0;d<e;d++)c.push(new Fj(b[d]))};function Fj(a){var b,c=a.boxes,d,e;this.alt=a.alt;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.uk=[];if(c&&(b=c.length))for(d=c[0],e=new I(d[0],d[1],d[2],d[3]),this.uk.push(e),this.lk=new I(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new I(d[0],d[1],d[2],d[3]),this.uk.push(e),this.lk.zd(e,!1,this.lk)}\nFj.prototype.Bf=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.uk.length)&&this.lk){if(this.lk.Bf(b))for(;c--;)if(this.uk[c].Bf(b))return!0}else return!0;return!1};function Gj(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var Hj=Function(\"return this\")();function Ij(a,b){function c(){k=ta();Jc.font=g;h=Math.round(Jc.measureText(\"BESbswyMi\").width);-1===e.indexOf(h)?b():3E5<k-d?b(\"timeout\"):(l=50*++f,Hj.setTimeout(c,Math.min(l,d+3E5-k)))}var d=ta(),e=Jj(),f=0,g=\"30px \"+a+\",\"+Kj.join(\",\"),h,k,l;-1!==Kj.indexOf(a)?b():Hj.setTimeout(c,50)}\nfunction Lj(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){Ij(a,c)})}var Kj=Ja(\"monospace serif\");function Jj(){var a=[];Kj.forEach(function(b){Jc.font=\"30px \"+b;a.push(Math.round(Jc.measureText(\"BESbswyMi\").width))});return a}function Mj(a,b){var c=b||document,d=c.createElement(\"style\"),e;d.appendChild(c.createTextNode(\"\"));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Nj(){}\nNj.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||Hj.document.createElement(\"canvas\")};Nj.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Oj=new Nj;function Pj(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.s().i().m(b+\"/\"+a.Y+\"/\"+c).t(f),l=a.Ga;this.service_=a;this.tileBaseUrl_=k;db.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.i();l&&f.V(l[(c+b+a)%l.length]);f.m(c+\"/\"+a+\"/\"+b+\"/\"+d+\"/\"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,\"\")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(\".\")[0];this.updateAndReload_=w(this.updateAndReload_,\nthis);this.getCopyrights=this.ua;this.ou=vb();a.addEventListener(\"versionupdate\",this.updateAndReload_)}u(Pj,db);Pj.prototype.MAX_STORE_TIME=2592E6;Pj.prototype.c=function(){db.prototype.c.call(this);this.service_.removeEventListener(\"versionupdate\",this.updateAndReload_)};Pj.prototype.ua=function(a,b){var c=this.service_.ua().Qo[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].Bf(b,a)&&f.push(c[d]);return f};\nPj.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.s().i().m(this.tileType_+\"/\"+a.Y+\"/\"+this.scheme_).t(this.params_);this.reload(!1)};Pj.prototype.Eg=function(){return this.ou};r(\"H.service.MapTileProvider.prototype.canStore\",Pj.prototype.Eg);Pj.prototype.wf=function(){return this.Eg()?ub():Q.prototype.wf.call(this)};r(\"H.service.MapTileProvider.prototype.getStorage\",Pj.prototype.wf);function Qj(a){a=Aj(Bj.maptile,a);yb.call(this);this.sa=a.baseUrl;this.A=a.path;this.cc=a.subDomain;this.Ga=a.shards;this.ha=(this.Pm=!!a.ignoreTypes)?null:a.type;this.Y=a.version;this.aj=new Ej;this.fo={};this.$i=0}u(Qj,F);r(\"H.service.MapTileService\",Qj);function Rj(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nQj.prototype.$=function(a,b,c,d,e){this.H=(this.sa||e).i();this.cc&&this.H.V(this.cc);this.ha&&this.H.V(this.ha);this.A&&this.H.$b(this.A);\"newest\"===this.Y&&this.dm();return this};Qj.prototype.configure=Qj.prototype.$;Qj.prototype.s=function(){return this.H};Qj.prototype.wq=function(){return this.ha};Qj.prototype.getType=Qj.prototype.wq;Qj.prototype.Fm=function(){return this.Y};Qj.prototype.getVersion=Qj.prototype.Fm;Qj.prototype.Bo=function(a){this.Y=a};\nQj.prototype.ua=function(){this.$i||(this.Y&&\"newest\"!==this.Y||\"traffic\"===this.ha)&&Sj(this);return this.aj};Qj.prototype.getCopyrights=Qj.prototype.ua;Qj.prototype.So=function(a){a=a.response;var b;Rj(a,\"map\");Rj(a,\"scheme\");Rj(a,\"tiletype\");Rj(a,\"format\");Rj(a,\"resolution\");Rj(a,\"language\");if(\"newest\"===this.Y&&\"traffic\"!==this.ha)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Bo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Sm=a;this.dispatchEvent(\"infoupdate\")};\nQj.prototype.dm=function(){var a=this,b=this.s().i().m(\"info\").t({output:\"json\"});this.Ga&&b.V(this.Ga[0]);xj({url:b,Qi:\"callback_func\",Bc:function(b){a.So(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},qd:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},$n:!0})};\nfunction Sj(a){var b=a.s().i().m(\"copyright\").m(a.Y).t({output:\"json\"});a.Ga&&b.V(a.Ga[0]);a.$i=1;xj({url:b,Qi:\"callback_func\",Bc:function(b){this.$i=2;b=JSON.parse(b);var d=a.aj,e;for(e in b)b.hasOwnProperty(e)&&d.pl(e,b[e]);a.dispatchEvent(\"copyrightupdate\")},qd:function(a){this.$i=-1;throw Error(\"[\"+a+\"]: Could not fetch copyrights from map tile service @\"+b.toString());},$n:!0})}Qj.prototype.vm=function(){return this.Sm};Qj.prototype.getInfo=Qj.prototype.vm;\nQj.prototype.Rg=function(a,b,c,d,e,f){var g;g=Gj(this.s().i().m(a+\"/\"+this.Y+\"/\"+b+\"/\"+c+\"/\"+d).t(e?e:{}).toString());var h=this.fo[g];h||(h=new Pj(this,a,b,c,d,e,f),this.fo[g]=h);return h};Qj.prototype.createTileProvider=Qj.prototype.Rg;Qj.prototype.o=function(a,b,c,d,e,f,g,h){a=this.Rg(a,b,c,d,e,h);return new hi(a,{opacity:f,dark:!!g})};Qj.prototype.createTileLayer=Qj.prototype.o;Bj.maptile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};\nV.prototype.nh=function(a){var b;b=Aj(Bj.maptile,a);var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Gj(c);c=this.Tk[b];c||(c=this.$(new Qj(a)),this.Tk[b]=c);return c};V.prototype.getMapTileService=V.prototype.nh;function Tj(a){this.pu=a;this.Nb=this.ih(\"general\",\"default\")||Uj;this.ef=new Oh(200)}Tj.prototype.pe=function(a,b){for(var c,d,e,f,g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Tj.prototype.Na=function(a,b){var c=this.ih(\"spaceToGroup\",b);return Vj(this,a,c?c+\"\":void 0)};\nfunction Vj(a,b,c){var d,e,f;f=(b?b+\"_\":\"\")+(c?c:\"default\");d=a.Nb;(e=a.ef.get(f))?d=e:(b&&c?(d=Vj(a,b,void 0),e=Vj(a,void 0,c),b=a.ih(\"venues\",b,\"groups\",c),d=a.pe({},a.Nb,d,e,b)):b&&!c?d=a.pe({},a.Nb,a.ih(\"venues\",b,\"default\")):!b&&c&&(d=a.pe({},a.Nb,a.ih(\"general\",\"groups\",c))),a.ef.add(f,d,1));return d}Tj.prototype.ih=function(a){for(var b=this.pu,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Uj={space:{fillColor:\"rgba(198, 175, 255, .7)\",strokeColor:\"rgb(162, 141, 216)\",lineWidth:0.5},spaceLabel:{fillColor:\"rgb(78,66,111)\"},floor:{fillColor:\"rgba(249, 244, 253, .7)\",strokeColor:\"rgba(255, 255, 255, .7)\",lineWidth:1}};function Wj(a,b,c,d,e,f,g,h){this.xl=[];this.Gj={};P.call(this,a,b,c,d,e,f,g,h)}u(Wj,P);Wj.prototype.mm=function(){return this.xl};function Xj(){}Xj.prototype.Ne=function(){};r(\"H.service.remote.IObject.prototype.retain\",Xj.prototype.Ne);Xj.prototype.Ge=function(){};r(\"H.service.remote.IObject.prototype.release\",Xj.prototype.Ge);function Yj(a,b){var c={};this.Yr=a;ya(c,b||c);Ah.call(this,c);this.He={};Zj(this)}u(Yj,Ah);r(\"H.service.remote.ObjectProvider\",Yj);Yj.prototype.e=function(){Ah.prototype.e.call(this)};function Zj(a){a=a.Ya(me.SPATIAL);a.update(a.zc+1,je.ADD)}var ak=[];Yj.prototype.Db=function(){return ak};Yj.prototype.requestMarkers=Yj.prototype.Db;Yj.prototype.Cb=function(){return ak};Yj.prototype.requestDomMarkers=Yj.prototype.Cb;Yj.prototype.Ee=function(){return!0};Yj.prototype.providesSpatials=Yj.prototype.Ee;\nYj.prototype.Le=function(){return ak};Yj.prototype.requestSpatials=Yj.prototype.Le;Yj.prototype.uc=function(a){var b=a.Yo,c;!b&&(c=a.Xo)&&(delete a.Xo,c=this.Yr.parse(this,a,c))&&(b=a.Yo=c.spatials);return b||ak};Yj.prototype.requestSpatialsByTile=Yj.prototype.uc;Yj.prototype.k=function(a){var b=a.X();if(this.He[b])throw\"Remote object \"+b+\" allready added\";return this.He[b]=a};Yj.prototype.P=function(a){delete this.He[a.X()]};function bk(a,b,c){Yj.call(this,b,c);this.ea=a;this.responseQueue_=[];ck(this.ea)||(this.ck=w(this.ck,this),this.ea.addEventListener(\"statechange\",this.ck));this.Ga=a.Ga;this.bj=0;this.Wn={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=w(this.uc,this)}u(bk,Yj);bk.prototype.mx=function(a,b,c,d){this.ro?this.Xr.apply(this,arguments):d||this.responseQueue_.push({sy:a,response:c,Vu:b});d&&(a.Gj[b]=!0)};function dk(a){return a.getVisibility(!0)}\nbk.prototype.uc=function(a,b,c){var d;this.vs||ek(this);d=a.Pb();b&&(d=d.filter(dk));if(!c){b=this.bj;var e,f,g,h;if(!a.Gj[b]&&ck(this.ea)){e=this.ea.s();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.i().m(\"0/tiles-ia\").m(\"L\"+b).m(h+\".json\");this.Ga&&e.V(this.Ga[(c+f+g)%this.Ga.length]);new Rc(\"text/plain\",e.toString(),w(this.mx,this,a,b));a.Gj[b]=!0}a.Gj[this.bj]=!0}a.ug&&(d=d.concat(a.ug),delete a.ug);return d};\nr(\"H.service.venues.ObjectProvider.prototype.requestSpatialsByTile\",bk.prototype.uc);m=bk.prototype;m.hg=function(a){var b,c,d;for(b in this.He)for(c in d=this.He[b].mm(),d)d[c].hg(a);Zj(this);this.Ka();this.bj=a};m.sf=function(){return this.bj};m.Xr=function(a,b,c,d){if(!d&&(this.Wn.floorLevel=b,b=(b=this.Yr.parse(this,a,c,this.Wn))&&b.spatials))for(a.ug=a.ug?a.ug.concat(b):b,a=b.length;a--;)b[a].la(je.ADD)};m.ck=function(){ck(this.ea)&&(fk(this),this.ea.removeEventListener(\"statechange\",bk.prototype.ck))};\nfunction fk(a){ck(a.ea)&&a.ro&&a.dispatchEvent(\"reload\")}function ek(a){a.vs=!0;gk(a,function(b,c){c?a.dispatchEvent(\"error\"):(a.Wn.styler=b,hk(a,w(a.kx,a)))})}m.kx=function(a){a?this.dispatchEvent(\"error\"):(this.responseQueue_.forEach(function(a){this.Xr(a.sy,a.Vu,a.response)},this),this.responseQueue_=null,this.ro=!0,fk(this))};m.vs=!1;m.ro=!1;function gk(a,b){new Rc(\"application/json\",a.ea.Ts.i().m(\"styles/styles.json\").toString(),function(a,d){b(d?null:new Tj(a),d)})}var ik=0;\nfunction hk(a,b){var c=a.ea.Ts.i().m(\"fonts\"),d=document,e=[],f,g=[];2===ik?b():(jk.forEach(function(a){g.push(\"nokiapuretext{name}_rg-webfont\".replace(\"{name}\",a))}),1!==ik&&(jk.forEach(function(a,b){f=c.i().m(g[b]);e.push('@font-face {font-family: \"nokiapuretext{name}_rg-webfont\";src: url(\"{url}.woff2\") format(\"woff2\"),url(\"{url}.woff\") format(\"woff\"),url(\"{url}.ttf\") format(\"truetype\");font-weight: normal;font-style: normal;}'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.fq=Mj(e,\nd),ik=1),Lj(g,function(c){ik=c?0:2;c&&a.fq&&Ic(a.fq);b(c)}))}var jk=Ja(\"inn2 dflt in insl as me\");function kk(a,b,c,d){N.call(this,lk(a));this.Mi=c;this.Li=d;this.floorsByLevel_={};this.uid=b;this.Xd=0}u(kk,N);r(\"H.service.venues.Building\",kk);kk.prototype.X=function(){return this.uid};kk.prototype.getId=kk.prototype.X;kk.prototype.cw=function(){return this.ma};kk.prototype.getVenue=kk.prototype.cw;kk.prototype.Hv=function(){return this.Mi};kk.prototype.getMinLevel=kk.prototype.Hv;kk.prototype.ym=function(){return this.Li};kk.prototype.getMaxLevel=kk.prototype.ym;kk.prototype.sf=function(){return this.Xd};\nkk.prototype.getCurrentLevel=kk.prototype.sf;kk.prototype.hg=function(a){var b,c,d;if(!isNaN(a)&&(b=this.Mi,c=this.Li,a!==this.Xd))for(this.Xd=a;b<=c;b++)(d=this.floorsByLevel_[b])&&d.setVisibility(b===a);return this.Xd};kk.prototype.kh=function(a){return this.floorsByLevel_[a]};kk.prototype.getFloor=kk.prototype.kh;kk.prototype.du=function(a,b){this.Mi=Math.min(this.Mi,a);this.Li=Math.max(this.Li,b)};kk.prototype.adjustMinMaxLevels=kk.prototype.du;function mk(a,b){N.call(this,lk(a));this.Ni={};this.Ro=b;a.k(this)}u(mk,N);r(\"H.service.venues.Venue\",mk);mk.prototype.fh=function(a){return this.Ni[a]};mk.prototype.getBuilding=mk.prototype.fh;mk.prototype.mm=function(){return this.Ni};mk.prototype.getBuildings=mk.prototype.mm;mk.prototype.addBuilding=function(a){this.Ni[a.X()]=a;this.k(a)};mk.prototype.X=function(){return this.Ro};mk.prototype.getId=mk.prototype.X;function nk(a,b,c,d){d=d||ok;this.Zc={};d.provider=a;xe.call(this,b,d);c&&(this.Ro=c)}u(nk,xe);r(\"H.service.remote.Spatial\",nk);var ok={};nk.prototype.X=function(){return this.Ro||xe.prototype.X.call(this)};nk.prototype.getId=nk.prototype.X;nk.prototype.Ne=Function();nk.prototype.retain=nk.prototype.Ne;nk.prototype.Ge=Function();nk.prototype.release=nk.prototype.Ge;function pk(a,b,c){this.ij=a;c&&(this.labels=c);0<=b&&(this.Gq=b)}pk.prototype.Gq=-1;var qk=new pk([]);\nnk.prototype.ee=function(a){return(this.Zc[a.key]||qk).ij};nk.prototype.getGeometry=nk.prototype.ee;nk.prototype.xm=function(a){return(this.Zc[a.key]||qk).labels};nk.prototype.getLabels=nk.prototype.xm;nk.prototype.um=function(a){return(this.Zc[a.key]||qk).Gq};nk.prototype.getHybridIdx=nk.prototype.um;function rk(a,b,c,d){nk.call(this,a,!0,b);d&&(this.isFloorSpace_=d);this.setData(c)}u(rk,nk);r(\"H.service.venues.Space\",rk);rk.prototype.isFloorSpace_=!1;rk.prototype.ww=function(){return this.isFloorSpace_};rk.prototype.isFloorSpace=rk.prototype.ww;rk.prototype.nw=function(a){a&&(this.ow=new qe(a))};rk.prototype.initLabelStyle=rk.prototype.nw;rk.prototype.kh=function(){var a=this.ma;return this.isFloorSpace_?a:a&&a.ma};rk.prototype.getFloor=rk.prototype.kh;rk.prototype.referenceCounter_=0;\nrk.prototype.Ne=function(){++this.referenceCounter_};rk.prototype.retain=rk.prototype.Ne;rk.prototype.Ge=function(){var a=--this.referenceCounter_,b;a||(b=this.kh(),this.isFloorSpace_?b.floorSpace_&&(b.P(b.floorSpace_),b.floorSpace_=null,b.Ti()):(delete b.Eo[this.X()],b.floorSpaces.P(this),b.Ti()));return 1>a};rk.prototype.release=rk.prototype.Ge;function sk(){}sk.prototype.parse=function(){};r(\"H.service.remote.IParser.prototype.parse\",sk.prototype.parse);function tk(a,b,c){N.call(this,lk(a));this.Wu=c;this.floorSpace_=new rk(a,b.id,b,!0);this.k(this.floorSpace_);this.floorSpaces=new N(lk(a));this.k(this.floorSpaces);this.Eo={}}u(tk,N);r(\"H.service.venues.Floor\",tk);tk.prototype.mh=function(){return this.Wu};tk.prototype.getLevel=tk.prototype.mh;tk.prototype.sm=function(){return this.floorSpace_};tk.prototype.getFloorSpace=tk.prototype.sm;tk.prototype.Wv=function(){return this.floorSpaces};tk.prototype.getSpaces=tk.prototype.Wv;\ntk.prototype.fh=function(){return this.ma};tk.prototype.getBuilding=tk.prototype.fh;tk.prototype.getData=function(){return this.floorSpace_&&this.floorSpace_.getData()};tk.prototype.getData=tk.prototype.getData;tk.prototype.setData=function(a){this.floorSpace_.setData(a);return this};tk.prototype.setData=tk.prototype.setData;tk.prototype.tq=function(a){return this.Eo[a]};tk.prototype.getSpace=tk.prototype.tq;\ntk.prototype.Ti=function(){if(!this.floorSpaces.Cc&&!this.floorSpace_){var a=this.fh(),b=this.mh();b===a.Xd&&(a.Xd=0);delete a.floorsByLevel_[b];a.P(this);a.Cc||(b=a.ma,delete b.Ni[a.X()],b.P(a),b.Cc||b.Ra().P(b))}};function uk(){}var vk;uk.prototype.Tt=Math.PI/180;function wk(a,b){return a&&a.category&&a.category[b||\"id\"]}function xk(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nuk.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,n,p,q,s,t,v,C={};vk=!1;c=c.replace(/''( )?/g,'$1\\\\\"');try{c=Hj.JSON.parse(c)}catch(S){vk=!0}if(c.length)for(c=xk(c),h=c.length;h--;){k=c[h];l=k.area;q=l.length;s=p=v=void 0;(p=0<q)||(vk=!0,p=void 0);if(p)for(v=Array(q/2);q;)s=l[--q],p=l[--q],v[q/2]=new G(p,s);l=v?[v]:[];k=k.object;t=null;if(1!==k.type)switch(k.type.replace(\"/polygon\",\"\")){case \"floor\":p=q=k.buildingId;(v=a.He[p])||(v=new mk(a,p),v.G(a));\ns=k.buildingMinLevel;t=k.buildingMaxLevel;(p=v.fh(q))?p.adjustMinMaxLevels(s,t):(p=new kk(a,q,s,t),v.addBuilding(p),p.hg(a.sf()));0>b.xl.indexOf(p)&&b.xl.push(p);(v=p.kh(e))?(q=v.sm(),l=q.ee(b).concat(l)):(v=new tk(a,k,e),q=p,p=v,s=p.mh(),p.setVisibility(s===q.Xd),q.floorsByLevel_[s]=p,q.k(p),q=v.sm(),f&&f(q),p=wk(v.getData(),\"profileKey\"),t=d.Na(p,void 0),q.Hk(t.floor));C[k.id]=v;0>g.indexOf(q)&&g.push(q);q.Zc[b.key]=new pk(l,-1,void 0);break;case \"space\":if(n=k.id,v=C[/_d$/.test(k.outerAreaId)?\nk.outerAreaId:k.outerAreaId+\"_d\"])q=v.tq(n),p=wk(v.getData(),\"profileKey\"),s=wk(q?q.getData():k),q||(t=q=new rk(a,n,k),v.Eo[t.X()]=t,v.floorSpaces.k(t),t=d.Na(p,s),q.Hk(t.space),f&&f(q)),q.Ne(),(k=k.label)&&k.firstLinePos?(t=t||d.Na(p,s),v=q.ow,k=[{lines:Ja(k.text,\"\\n\"),angle:k.rotation*this.Tt,font:k.font.face,size:k.font.size,lineHeight:k.font.lineHeight,color:v&&v.fillColor||t.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}]):k=null,g.push(q),q.Zc[b.key]=new pk(l,-1,k)}}else vk=!0;\nreturn vk?void 0:{spatials:g}};r(\"H.service.venues.Parser.prototype.parse\",uk.prototype.parse);function yk(a,b){var c=b||{};if(!(a&&a instanceof zk))throw Error(\"InvalidArgument: service required\");this.Ko=c.tileCacheSize||256;this.pb=w(this.pb,this);this.objectProvider_=new bk(a,new uk,{min:this.np,max:this.lp,onSpaceCreated:c.onSpaceCreated});this.objectProvider_.G(this);this.Wb=w(this.Wb,this);this.objectProvider_.addEventListener(\"update\",this.Wb);this.Ln=w(this.Ln,this);this.objectProvider_.addEventListener(\"reload\",this.Ln);this.Kn=w(this.Kn,this);this.objectProvider_.addEventListener(\"error\",\nthis.Kn);this.Fa=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.wi=Mh(this.tileSize,this.Fa);this.ef=new Oh(this.Ko,this.pb);this.getCache=this.Ob;Q.call(this,{min:this.np,max:this.lp})}u(yk,Q);r(\"H.service.venues.TileProvider\",yk);m=yk.prototype;m.np=16;m.Fa=1;m.lp=20;m.Wb=function(){this.dispatchEvent(\"update\")};m.Kn=function(){this.dispatchEvent(\"error\")};m.Ln=function(){this.reload(!0)};\nm.pb=function(a,b){var c,d,e;c=b.Pb();for(e=c.length;e--;)d=c[e],delete d.Zc[b.key],d.Ge();b.data&&Oj.push(b.vk(),this.tileSize);b.wk()};m.hg=function(a){this.objectProvider_.hg(a)};yk.prototype.setCurrentLevel=yk.prototype.hg;yk.prototype.sf=function(){return this.objectProvider_.sf()};yk.prototype.getCurrentLevel=yk.prototype.sf;yk.prototype.Ob=function(){return this.ef};\nyk.prototype.tc=function(a,b,c,d){var e;this.Ob().get(this.getTileKey(a,b,c))?d(null,null):e=Hj.setTimeout(function(){d(null,null)},500);return{cancel:function(){Hj.clearTimeout(e)}}};yk.prototype.requestInternal=yk.prototype.tc;yk.prototype.kf=function(a,b,c){var d=Oj.pop(this.tileSize),e=this.Ob().get(this.getTileKey(a,b,c));e||(e=new Wj(this.sh(a,b,c),a,b,c,this.tileSize,this.Fa,c+this.wi,this.objectProvider_));e.F(d)||Oj.push(d,this.tileSize);return e};yk.prototype.createTileInternal=yk.prototype.kf;function zk(a){var b=Bj.venues;a=Aj(b,a||{});yb.call(this);this.sa=b.baseUrl;this.A=a.path;this.cc=a.subDomain;this.Ga=b.shards}u(zk,F);r(\"H.service.venues.Service\",zk);var Ak={ERROR:-1,INIT:0,READY:1};zk.State=Ak;\nzk.prototype.$=function(a,b,c,d,e){this.H=(this.sa||e).i();this.Ts=this.H.i().V(\"js\").m(\"statics/venues\").jg();this.cc&&this.H.V(this.cc);this.ha&&this.H.V(this.ha);this.A&&this.H.$b(this.A);a=Bj.venueSignature;b=this.H.i();b.V(a.subDomain);b.m(a.path);b.m(a.version);this.iy=b;this.Du=this.H.i();this.j===Ak.INIT&&this.cq();return this};zk.prototype.configure=zk.prototype.$;function ck(a){return a.j===Ak.READY}zk.prototype.s=function(){return ck(this)?this.H:void 0};\nzk.prototype.cq=function(){var a=this;new Rc(\"application/json\",this.iy.toString(),function(b,c){if(c)a.Kd(Ak.ERROR,c);else{var d=b.SignatureTokens,e=new Date(b.Expires),f=e?e.getTime()-ta()-36E5:0;a.H.t(d);e&&4E9>f&&Hj.setTimeout(w(a.cq,a),Math.max(f,0));a.Kd(Ak.READY)}})};zk.prototype.Cu=function(a,b,c){var d=Bj.venuesDiscovery;a=this.Du.i().V(d.subDomain).m(d.path).m(d.version).t(Aj(a,d.params));new Rc(\"application/json\",a.toString(),function(a,d){d?c(d):b(a)})};zk.prototype.discover=zk.prototype.Cu;\nzk.prototype.o=function(a){return new hi(new yk(this,a))};zk.prototype.createTileLayer=zk.prototype.o;zk.prototype.j=Ak.INIT;zk.prototype.getState=function(){return this.j};zk.prototype.getState=zk.prototype.getState;zk.prototype.Kd=function(a,b){var c=new ec(\"statechange\",this);b&&(c.errorCode=b);this.j=a;this.dispatchEvent(c)};V.prototype.yq=function(a){return this.$(new zk(a))};V.prototype.getVenueService=V.prototype.yq;\nvar Bk={subDomain:\"venue.maps\",path:\"\",shards:Ja(\"1 2 3 4\").map(function(a){return\"static-\"+a})};Bj.venues=Bk;Bj.venueSignature={version:\"v1\",subDomain:\"signature\",path:\"venues/signature\"};Bj.venuesDiscovery={version:\"v1\",subDomain:\"discovery\",path:\"venues/discovery\"};var Ck={};function lk(a){Ck.provider=a;return Ck};function Dk(){this.mc={}}Dk.prototype.Hc=function(a,b){var c=a+b,d,e,f;if(!(d=this.mc[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if(\"CLOSURE\"!==a)switch(d=Ek,a){case \"CONGESTION\":d=d.replace(\"{{icon}}\",Fk);break;case \"ROADWORKS\":d=d.replace(\"{{icon}}\",Gk);break;case \"ACCIDENT\":d=d.replace(\"{{icon}}\",Hk);break;default:d=d.replace(\"{{icon}}\",Ik)}else d=Jk,f.anchor.y=16;e=Kk[b]||Kk.BLOCKING;d=d.replace(\"{{color}}\",e);this.mc[c]=d=new O(d,f)}return d};\nvar Kk={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Fk='<path d=\"m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6\" fill=\"#ffffff\" />',\nGk='<path d=\"m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7\" fill=\"#ffffff\" />',Hk=\n'<path d=\"m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z\" fill=\"#ffffff\" />',\nIk='<path d=\"m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3\" fill=\"#ffffff\" />',Ek='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2\" style=\"fill:#878787\"/><path d=\"m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z\" stroke=\"#fff\" stroke-width=\"1\" fill=\"{{color}}\" />{{icon}}</svg>',\nJk='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"13\" cy=\"15\" r=\"11\" fill=\"{{color}}\" stroke=\"#ffffff\" stroke-width=\"1\"/><rect x=\"6\" y=\"13\" width=\"14\" height=\"5\" fill=\"#ffffff\" /></svg>';function Lk(a,b,c){c=c?c:{criticality:\"major,critical\"};if(!(a instanceof Dj))throw Error(\"IllegalArgument: service\");Bi.call(this,{max:20,min:8,requestData:w(this.Wx,this)});this.mc=new Dk;this.ea=a;this.D=c;this.reload=w(this.reload,this);this.Kx=setInterval(this.reload,b||18E4)}u(Lk,Bi);r(\"H.service.TrafficIncidentsProvider\",Lk);Lk.prototype.yu={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nLk.prototype.Wx=function(a,b,c,d,e){var f=this,g=this.yu,h=this.mc;return this.ea.rs(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,s;if(a)for(a=a.TRAFFIC_ITEM,s=a.length;s--;){c=a[s];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case \"ACCIDENT\":case \"CONGESTION\":q=e;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=h.Hc(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new Bh({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.setData(c);b.push(e)}d(b)},e,this.D)};\nLk.prototype.e=function(){Bi.prototype.e.call(this);clearInterval(this.Kx)};function Mk(a){var b;if(a)for(this.Io={},b=a.length;b--;)this.Io[a[b]]=!0;this.Xs={}}var Nk;Mk.prototype.Io={};Mk.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Nk=!1;try{c=Hj.JSON.parse(c)}catch(l){Nk=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.Io[e]&&(f=Ok[e]))(g=d[e])||(Nk=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var n;(n=g[c])||(Nk=!0,n=void 0);(h=n)&&f(b,a,this,e,h,k)}}else Nk=!0;return Nk?void 0:k};r(\"H.service.metaInfo.Parser.prototype.parse\",Mk.prototype.parse);\nvar Ok={\"street labels\":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Nk=!0,g=void 0);if(g){var h=g.length,k,l,n;(l=0<h)||(Nk=!0,l=void 0);if(l)for(k=Array(h/2);h;)n=g[--h],l=g[--h],k[h/2]=new G(l,n);k=k?[k]:[];h=+e[\"font size\"]/a.fe();g=c.Xs[h];g||(Pk.lineWidth=h,g=c.Xs[h]=c.Nb.nq(Pk));Qk(a,b,k,!1,g,e,d,f,-1)}delete e.vertices},\"city center labels\":function(a,b,c,d,e,f){Qk(a,b,Rk(e,[]),!0,c.Nb,e,d,f,-1)},labels:function(a,b,c,d,e,f){var g;(g=e[\"bounding boxes\"])||(Nk=!0,g=void 0);if(g){for(var h=\ng.length,k=[],l;h--;){var n;(n=g[h])||(Nk=!0,n=void 0);(l=n)&&Rk(l,k)}Qk(a,b,k,!0,c.Nb,e,d,f,-1)}delete e[\"bounding boxes\"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.He[g],k,l,n,p=[],q=[];(k=e)||(Nk=!0,k=void 0);if(k&&((l=k.vertices)||(Nk=!0,l=void 0),l)){var s;(s=k.polygons)||(Nk=!0,s=void 0);(n=s)&&p.push.apply(p,Sk(l,n));(k=k.outlines)||(Nk=!0,k=void 0);(n=k)&&q.push.apply(q,Sk(l,n))}n=p.length;p.push.apply(p,q);(q=p.length)||(Nk=!0,q=void 0);q&&(h?(h.Zc[a.key]=new pk(p,n,void 0),f.spatials.push(h)):\n(h=Qk(a,b,p,!0,c.Nb,e,d,f,n,g),b.k(h)))}};Ok[\"transit stops\"]=Ok.POIs=Ok.labels;var Tk=[\"box 2\",\"box 1\",\"annotation box\",\"icon box\"];function Rk(a,b){for(var c=Tk.length,d,e;c--;)if(d=Tk[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.push([new G(f,g),new G(f+h,g),new G(f+h,g+e),new G(f,g+e)]);delete a[d]}return b}\nfunction Sk(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Nk=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new G(a[h],a[h+1]);return e||[]}var Uk={};function Qk(a,b,c,d,e,f,g,h,k,l){Uk.style=e;d=new nk(b,d,l,Uk);d.Zc[a.key]=new pk(c,k,void 0);Vk(f);f.category=g;d.setData(f);h.spatials.push(d);d.G(b);return d}Mk.prototype.Nb=new qe({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0});var Pk={};\nfunction Vk(a){var b,c=!1;switch(typeof a){case \"object\":if(a instanceof Array)for(b=a.length;b--;)Vk(a[b])?c=!0:delete a[b];else if(a)for(b in a)Vk(a[b])?c=!0:delete a[b];break;case \"number\":c=!0;break;default:c=!!a}return c};function Wk(a,b,c){c=c||{};b=b||{};var d=c.tileType||\"maptile\",e=c.scheme||\"normal.day\";this.D=b;if(!(a&&a instanceof Xk))throw Error(\"InvalidArgument: service required\");this.ea=a;this.Zk=w(this.Zk,this);this.ea.addEventListener(\"versionupdate\",this.Zk);this.sa=a.s().i().m(d+\"/\"+a.Y+\"/\"+e).t(this.vp).t(b);this.Ga=a.Ga||null;this.Fa=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.wi=0;this.Ko=c.tileCacheSize||256;this.objectProvider_=new Yj(new Mk(c.categoryFilter));\nthis.objectProvider_.G(this);this.Wb=w(this.Wb,this);this.objectProvider_.addEventListener(\"update\",this.Wb);this.pb=w(this.pb,this);this.ef=new Oh(this.Ko,this.pb);this.getCache=this.Ob;Q.call(this,{min:0,max:20})}u(Wk,Q);r(\"H.service.metaInfo.TileProvider\",Wk);Wk.prototype.Ob=function(){return this.ef};Wk.prototype.pb=function(a,b){var c,d,e;c=b.Pb();for(d=c.length;d--;)e=c[d],delete e.Zc[b.key],e.Ge();b.data&&(Oj.push(b.vk(),this.tileSize),b.wk())};Wk.prototype.Wb=function(){this.dispatchEvent(\"update\")};\nWk.prototype.tc=function(a,b,c,d,e){var f=this.sa.i(),g=this.Ga,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.Ob().get(k),l,n;if(k&&!k.vj())d(Oj.pop(this.tileSize),null),l={cancel:function(){}};else{g&&f.V(g[(c+b+a)%g.length]);f.m(c+\"/\"+a+\"/\"+b+\"/\"+h+\"/png8\");var p=Hj.setTimeout(function(){n=new ua(f.toString(),function(a,b){b?e():d(null,a)})},500)}return l||{cancel:function(){n||Hj.clearTimeout(p)}}};Wk.prototype.requestInternal=Wk.prototype.tc;\nWk.prototype.kf=function(a,b,c,d,e){var f=this.objectProvider_,g;g=d||Oj.pop(this.tileSize);if(d)a=this.Ob().get(this.getTileKey(a,b,c)),a.F(d);else if(d=a=new P(this.sh(a,b,c),a,b,c,this.tileSize,this.Fa,c+this.wi,f),delete d.Yo,d.Xo=e,a.F(g))for(e=a.Pb(),g=e.length;g--;)e[g].Ne();else Oj.push(g,this.tileSize);return a};Wk.prototype.createTileInternal=Wk.prototype.kf;Wk.prototype.e=function(){this.objectProvider_.e();this.ea.removeEventListener(\"versionupdate\",this.Zk);Q.prototype.e.call(this)};\nWk.prototype.Zk=function(){var a=this.ea;this.sa=a.s().i().m(this.tileType+\"/\"+a.Y+\"/\"+this.scheme).t(this.vp).t(this.D);this.reload(!1)};Wk.prototype.vp={metadata:\"metaonly\",mgen:\"2\"};function Xk(a){a=Aj(Bj.maptile,a||{});yb.call(this);this.sa=a.baseUrl;this.A=a.path;this.cc=a.subDomain;this.Ga=a.shards;this.ha=(this.Pm=!!a.ignoreTypes)?null:a.type;this.Y=a.version;this.fo={};this.aj=new Ej}u(Xk,F);r(\"H.service.metaInfo.Service\",Xk);function Yk(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nXk.prototype.$=function(a,b,c,d,e){this.H=(this.sa||e).i();this.cc&&this.H.V(this.cc);this.ha&&this.H.V(this.ha);this.A&&this.H.$b(this.A);\"newest\"===this.Y&&this.dm();return this};Xk.prototype.configure=Xk.prototype.$;Xk.prototype.s=function(){return this.H};Xk.prototype.wq=function(){return this.ha};Xk.prototype.Fm=function(){return this.Y};Xk.prototype.getVersion=Xk.prototype.Fm;Xk.prototype.Bo=function(a){this.Y=a};Xk.prototype.ua=function(){return this.aj};Xk.prototype.getCopyrights=Xk.prototype.ua;\nXk.prototype.So=function(a){a=a.response;var b;Yk(a,\"map\");Yk(a,\"scheme\");Yk(a,\"tiletype\");Yk(a,\"format\");Yk(a,\"resolution\");Yk(a,\"language\");if(\"newest\"===this.Y&&\"traffic\"!==this.ha)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Bo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Sm=a;this.dispatchEvent(\"infoupdate\")};\nXk.prototype.dm=function(){var a=this,b=this.s().i().m(\"info\").t({output:\"json\"});this.Ga&&b.V(this.Ga[0]);xj({url:b,Qi:\"callback_func\",Bc:function(b){a.So(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},qd:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},$n:!0})};Xk.prototype.vm=function(){return this.Sm};Xk.prototype.getInfo=Xk.prototype.vm;Xk.prototype.Rg=function(a,b,c,d,e,f){return new Wk(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};\nXk.prototype.createTileProvider=Xk.prototype.Rg;Xk.prototype.o=function(a,b,c,d,e,f){a=this.Rg(a,b,c,d,e,f);return new hi(a)};Xk.prototype.createTileLayer=Xk.prototype.o;V.prototype.pq=function(a){var b;b=Aj(Bj.metainfotile,a||{});var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Gj(c);c=this.Tk[\"meta\"+b];c||(c=this.$(new Xk(a)),this.Tk[\"meta\"+b]=c);return c};V.prototype.getMetaInfoService=V.prototype.pq;\nBj.metainfotile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};V.prototype.xu=function(a,b,c,d,e,f){var g=this.nh(),h=this.nh({type:\"aerial\"}),k=this.nh({type:\"traffic\"}),l=this.nh({type:\"pano\"}),n=this.pq(),p=this.vq(),q=this.yq(),s={},t={crossOrigin:\"anonymous\"},v;\"object\"===typeof a&&(f=a,t.crossOrigin=\"crossOrigin\"in f?f.crossOrigin:\"anonymous\",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;v=320===b?2:1;320===b&&(s.ppi=b);c&&(s.lg=c);d&&(s.lg2=d);e&&(s.style=e);f&&(s.pois=f);b=new Lk(p,void 0,c?s:null);this.mw=new Ci(b);return{normal:{xbase:g.o(\"xbasetile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),xbasenight:g.o(\"xbasetile\",\"normal.night\",a,\"png8\",s,1,!1,t),base:g.o(\"basetile\",\"normal.day\",a,\"png8\",s,1,!1,t),basenight:g.o(\"basetile\",\"normal.night\",a,\"png8\",s,1,!1,t),map:g.o(\"maptile\",\"normal.day\",a,\"png8\",s,1,!1,t),mapnight:g.o(\"maptile\",\"normal.night\",a,\"png8\",s,1,!1,t),traffic:k.o(\"traffictile\",\"normal.day\",a,\"png8\",s,1,!1,t),trafficnight:k.o(\"traffictile\",\"normal.night\",a,\"png8\",s,1,!1,t),transit:g.o(\"maptile\",\"normal.day.transit\",a,\"png8\",s,1,!1,t),panorama:l.o(\"rctile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),panoramanight:l.o(\"rctile\",\"normal.night\",a,\"png8\",s,1,!1,t),labels:g.o(\"labeltile\",\"normal.day\",a,\"png\",s,1,!1,t),metaInfo:n.o(a,v,[\"buildings\"],s)},satellite:{xbase:h.o(\"xbasetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),base:h.o(\"basetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),map:h.o(\"maptile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),traffic:k.o(\"traffictile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),panorama:l.o(\"rctile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),labels:h.o(\"labeltile\",\"hybrid.day\",a,\"png\",s,\n1,!0,t)},terrain:{xbase:h.o(\"xbasetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),base:h.o(\"basetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),map:h.o(\"maptile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),traffic:k.o(\"traffictile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),panorama:l.o(\"rctile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),labels:h.o(\"labeltile\",\"terrain.day\",a,\"png\",s,1,!1,t)},incidents:this.mw,venues:q.o({tileSize:a,pixelRatio:v})}};V.prototype.createDefaultLayers=V.prototype.xu;function Zk(a){a=Aj(Bj.routing,a);a.callbackKey=\"jsoncallback\";Zk.a.constructor.call(this,a)}u(Zk,yj);r(\"H.service.RoutingService\",Zk);Zk.prototype.yl=function(a,b,c){a=this.s().i().m(\"calculateroute.json\").t(a);zj(this,a,b,c)};Zk.prototype.calculateRoute=Zk.prototype.yl;Bj.routing={subDomain:\"route\",path:\"routing/7.2\"};V.prototype.Vv=function(a){return this.$(new Zk(a))};V.prototype.getRoutingService=V.prototype.Vv;function $k(a){a=Aj(Bj.geocoding,a);a.callbackKey=\"jsoncallback\";$k.a.constructor.call(this,a);this.xs=a.reverseSubDomain}u($k,yj);r(\"H.service.GeocodingService\",$k);$k.prototype.av=function(a,b,c){a=this.s().i().m(\"geocode.json\").t(a);return zj(this,a,b,c)};$k.prototype.geocode=$k.prototype.av;$k.prototype.$x=function(a,b,c){a=this.s().i().m(\"reversegeocode.json\").t(a);this.xs&&a.V(this.xs);return zj(this,a,b,c)};$k.prototype.reverseGeocode=$k.prototype.$x;\n$k.prototype.search=function(a,b,c){a=this.s().i().m(\"search.json\").t(a);return zj(this,a,b,c)};$k.prototype.search=$k.prototype.search;Bj.geocoding={subDomain:\"geocoder\",path:\"6.2\",reverseSubDomain:\"reverse\"};V.prototype.sv=function(a){return this.$(new $k(a))};V.prototype.getGeocodingService=V.prototype.sv;function al(a){a=Aj(Bj.places,a);a.callbackKey=\"callback\";al.a.constructor.call(this,a)}u(al,yj);r(\"H.service.PlacesService\",al);al.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};al.prototype.Zb=function(a,b,c,d){b=b||{};a=this.s().i().m(a).t(b);return zj(this,a,c,d)};al.prototype.request=al.prototype.Zb;al.prototype.search=function(a,b,c){return this.Zb(\"discover/search\",a,b,c)};\nal.prototype.search=al.prototype.search;al.prototype.py=function(a,b,c){return this.Zb(\"suggest\",a,b,c)};al.prototype.suggest=al.prototype.py;al.prototype.Qu=function(a,b,c){return this.Zb(\"discover/explore\",a,b,c)};al.prototype.explore=al.prototype.Qu;al.prototype.fu=function(a,b,c){return this.Zb(\"discover/around\",a,b,c)};al.prototype.around=al.prototype.fu;al.prototype.kw=function(a,b,c){return this.Zb(\"discover/here\",a,b,c)};al.prototype.here=al.prototype.kw;\nal.prototype.qu=function(a,b,c){return this.Zb(\"categories/places\",a,b,c)};al.prototype.categories=al.prototype.qu;al.prototype.fm=function(a,b,c,d){a=vj(a);d&&a.t(d);return zj(this,a,b,c)};al.prototype.follow=al.prototype.fm;Bj.places={subDomain:\"places\",path:\"places/v1\"};V.prototype.Nv=function(){return this.$(new al)};V.prototype.getPlacesService=V.prototype.Nv;function bl(a){a=Aj(Bj.enterpriseRouting,a);a.callbackKey=\"jsoncallback\";if(!B(a.baseUrl,U))throw new x(bl,0,\"Invalid base url\");this.Ta=a;bl.a.constructor.call(this,a)}u(bl,yj);r(\"H.service.EnterpriseRoutingService\",bl);bl.prototype.yl=function(a,b,c){a=this.s().i().m(\"calculateroute.json\").t(a);zj(this,a,b,c)};bl.prototype.calculateRoute=bl.prototype.yl;bl.prototype.Uv=function(a,b,c){a=this.s().i().m(\"getroute.json\").t(a);zj(this,a,b,c)};bl.prototype.getRoute=bl.prototype.Uv;\nbl.prototype.Bv=function(a,b,c){a=this.s().i().m(\"getlinkinfo.json\").t(a);zj(this,a,b,c)};bl.prototype.getLinkInfo=bl.prototype.Bv;bl.prototype.mu=function(a,b,c){a=this.s().i().m(\"calculateisoline.json\").t(a);zj(this,a,b,c)};bl.prototype.calculateIsoline=bl.prototype.mu;bl.prototype.$=function(a,b,c,d,e){var f,g=Bj.enterpriseRouting;this.Ta.baseUrl===g.baseUrl&&e&&(f=e.i(),f.bd(g.host),d&&f.V(g.citSubDomain));return yj.prototype.$.apply(this,[a,b,c,d,f])};bl.prototype.configure=bl.prototype.$;\nvar cl={subDomain:\"route\",path:\"routing/6.2\",baseUrl:new U(\"http\",\"nlp.nokia.com\"),host:\"nlp.nokia.com\",citSubDomain:\"st\"};Bj.enterpriseRouting=cl;V.prototype.pv=function(a){return this.$(new bl(a))};V.prototype.getEnterpriseRoutingService=V.prototype.pv;r(\"H.service.buildInfo\",function(){return Hi(\"mapsjs-service\",\"0.12.4\",\"75fc05e\")});\n");